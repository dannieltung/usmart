<section class="container introducao">
  <div class='formulario'>
    <%= simple_form_for @payment do |f| %>
      <%= f.input :date, label: false, as: :string, input_html: { type: :date } %>
      <%= f.input :total_amount, label: false, placeholder: 'Valor' %>
      <%= f.input :total_partial, label: false, placeholder: 'Parcelas' %>
      <%= f.input :description, label: false, placeholder: 'Descrição' %>
      <%= link_to icon("fas", "plus-circle"), categories_path, title: 'Adicionar Categoria' %>
      <%= f.input :category_id, label: false, collection: @categories, label_method: :name, value_method: :id, prompt: '--Categoria--' %>
      <%= f.input :comment, label: false, placeholder: 'Observação' %>
    <% end %>
  </div>
  <div class='tabela'>
    <table class="table table-hover">
      <thead>
        <tr>
          <th scope="col">Vencimento</th>
          <th scope="col">Descrição</th>
          <th scope="col">Valor</th>
          <th scope="col"></th>
          <th scope="col"></th>
          <th scope="col">Data</th>
        </tr>
      </thead>
      <tbody>
        <% @payments.each do |payment| %>
          <tr>
            <td><%= payment.due_date.strftime("%d/%m/%y") %></td>
            <td><%= link_to payment.description, edit_payment_path(payment) %></td>
            <td><%= number_to_currency(payment.amount, unit: 'R$ ', separator: ',', delimiter: '.') %></td>
            <td><%= payment.partial %></td>
            <td><%= payment.total_partial %></td>
            <td><%= payment.date.strftime("%d/%m/%y") %></td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</section>