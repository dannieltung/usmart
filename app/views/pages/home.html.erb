<div class="main-container">
  <div class="form">
    <%= simple_form_for [Payment.new] do |f| %>
      <%= f.association :credit_card, collection: CreditCard.order('name ASC'), label: 'Cart√£o de Cr√©dito' %>
      <%= f.association :buyer, collection: Buyer.order('name ASC'),label: 'Comprador' %>
      <%= f.input :date, as: :date, html5: true, label: 'Data' %>
      <%= f.association :category, collection: Category.order('name ASC'),label: 'Categoria' %>
      <%= f.input :description, label: 'Descri√ß√£o' %>
      <%= f.input :amount, label: 'Valor' %>
      <%= f.input :total_partial, label: '# de Parcelas' %>
      <%= f.input :comment, label: 'Coment√°rio' %>
      <%= f.submit "Salvar", class: 'btn btn-dark btn-lg btn-block' %>
    <% end %>
  </div>
  <br>
  <table class="table table-striped">
    <thead>
      <tr>
        <th scope="col">Cart√£o</th>
        <th scope="col">Comprador</th>
        <th scope="col">Data</th>
        <th scope="col">Categoria</th>
        <th scope="col">Descri√ß√£o</th>
        <th scope="col">Valor</th>
        <th scope="col">Vencimento</th>
        <th scope="col">Parcela</th>
        <th scope="col">Parcelas</th>
        <th scope="col"></th>
      </tr>
    </thead>
    <tbody>
      <% @payments.each do |payment| %>
        <tr>
          <td><%= payment.credit_card.name %></td>
          <td><%= payment.buyer.name %></td>
          <td><%= payment.date.strftime('%d/%m') %></td>
          <td><%= payment.category.name %></td>
          <td><%= payment.description %></td>
          <td><%= number_to_currency(payment.amount) %></td>
          <td id="table-link"><%= link_to payment.due_date.strftime('%d/%m/%y'),payment_due_path(payment) %></td>
          <td><%= payment.partial %></td>
          <td><%= payment.total_partial %></td>
          <td id="emoji"><%= link_to 'üí≥', payment_path(payment) %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>